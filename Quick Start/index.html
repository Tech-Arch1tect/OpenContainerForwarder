<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Quick Start - OpenContainerForwarder docs</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">OpenContainerForwarder docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Quick Start</a>
                            </li>
                            <li class="navitem">
                                <a href="../troubleshooting/" class="nav-link">Troubleshooting</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Documentation/" class="dropdown-item">Index</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Example Use Cases</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Documentation/Example%20Use%20Cases/Cloudflare/" class="dropdown-item">Cloudflare</a>
</li>
            
<li>
    <a href="../Documentation/Example%20Use%20Cases/Podman/" class="dropdown-item">Podman</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Labels</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Documentation/Labels/Access%20Logs/" class="dropdown-item">Access Logs</a>
</li>
            
<li>
    <a href="../Documentation/Labels/CloudflareApiKey/" class="dropdown-item">CloudflareApiKey</a>
</li>
            
<li>
    <a href="../Documentation/Labels/Hostname/" class="dropdown-item">Hostname</a>
</li>
            
<li>
    <a href="../Documentation/Labels/Port/" class="dropdown-item">Port</a>
</li>
            
<li>
    <a href="../Documentation/Labels/Protocol/" class="dropdown-item">Protocol</a>
</li>
            
<li>
    <a href="../Documentation/Labels/Restrict%20to%20IP%20addresses/" class="dropdown-item">Restrict to IP addresses</a>
</li>
            
<li>
    <a href="../Documentation/Labels/TLS%20Providers/" class="dropdown-item">TLS Providers</a>
</li>
            
<li>
    <a href="../Documentation/Labels/Trusted%20Proxies/" class="dropdown-item">Trusted Proxies</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../troubleshooting/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#intro" class="nav-link">Intro</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#create-docker-network" class="nav-link">Create docker network</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#clone-the-base-docker-compose-setup" class="nav-link">Clone the base docker-compose setup</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#copy-example-environment-variables" class="nav-link">Copy example environment variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#review-environment-variables" class="nav-link">Review environment variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#start-open-container-forwarder-caddy" class="nav-link">Start Open Container Forwarder &amp; caddy</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#start-an-example-container-gitea" class="nav-link">Start an example container (gitea)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="intro">Intro</h2>
<p>This page demonstrates an example deploy using the <a href="https://github.com/Tech-Arch1tect/OpenContainerForwarder-base">docker-compose configuration</a>.</p>
<h2 id="create-docker-network">Create docker network</h2>
<p>This network will have OpenContainerForwarder/Caddy and any Docker containers that will be proxied to.  </p>
<pre><code>docker network create proxy
</code></pre>
<h2 id="clone-the-base-docker-compose-setup">Clone the base docker-compose setup</h2>
<pre><code>cd /opt/
git clone https://github.com/Tech-Arch1tect/OpenContainerForwarder-base.git OpenContainerForwarder
</code></pre>
<h2 id="copy-example-environment-variables">Copy example environment variables</h2>
<pre><code>cd /opt/OpenContainerForwarder/
cp sample.env .env
</code></pre>
<h2 id="review-environment-variables">Review environment variables</h2>
<ul>
<li>Check the VERSION variable is the latest version (or otherwise intended version)</li>
<li>Unless you specifically want another TLS provider, it is advised to keep DEFAULT_TLS_PROVIDER=default</li>
<li>Keep the web dashboard disabled - this is WIP/Insecure (and has no authentication currently)</li>
</ul>
<h2 id="start-open-container-forwarder-caddy">Start Open Container Forwarder &amp; caddy</h2>
<pre><code>cd /opt/OpenContainerForwarder
docker-compose up -d
</code></pre>
<h2 id="start-an-example-container-gitea">Start an example container (gitea)</h2>
<ul>
<li>Before proceeding please configure your DNS A record for your hostname to point at your server running OpenContainerforwarder (yourdomain.com will be used as an example)</li>
<li>Gitea is used as an example service</li>
</ul>
<pre><code>cd /opt/
mkdir gitea
cd gitea;
vi docker-compose.yml
</code></pre>
<p>Paste in the following content (changing yourdomain.com to your domain):</p>
<pre><code>version: &quot;2&quot;

networks:
  proxy:
    external: true

services:
  gitea:
    image: gitea/gitea:latest
    restart: always
    networks:
      - proxy
    volumes:
      - ./gitea:/data
    labels:
      open.container.forwarder.port: &quot;3000&quot;
      open.container.forwarder.hostname: &quot;gitea.yourdomain.com&quot;
</code></pre>
<p>Notes:</p>
<ul>
<li>The Gitea container is on the proxy network</li>
<li>The labels define the hostname that will be configured in Caddy and the port that you want to proxy to (in this case Gitea is listening on port 3000 within the container)</li>
</ul>
<h3 id="start-the-gitea-container">Start the gitea container</h3>
<pre><code>docker-compose up -d
</code></pre>
<p>Wait 30 seconds, and visit gitea.yourdomain.com. You should be presented with the gitea welcome page.</p>
<p>If you have any issues checkout the <a href="/troubleshooting">trouble shooting</a> examples and create a github issue if you need any assistance.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
